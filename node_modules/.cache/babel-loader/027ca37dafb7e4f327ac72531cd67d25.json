{"ast":null,"code":"import _slicedToArray from\"/Users/tim/DCI/Assignments/spa-final-project-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import ShowModalContext from'../Context/ShowModalContext';import PostContext from'../Context/PostContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ShowModal(_ref){var entry=_ref.entry;var _useContext=useContext(PostContext),posts=_useContext.posts,setPosts=_useContext.setPosts;var _useContext2=useContext(ShowModalContext),show=_useContext2.show,setShow=_useContext2.setShow,setEdit=_useContext2.setEdit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),remove=_useState2[0],setRemove=_useState2[1];function wannaRemove(id){remove==id?setRemove(\"\"):setRemove(id);}function removePost(id){var newPosts=posts.filter(function(post){return post.id!=id;});setShow(\"\");setPosts(newPosts);}function editHandler(){setEdit(show);setShow(\"\");}useEffect(function(){var close=function close(e){return e.key==='Escape'?setShow(\"\"):null;};window.addEventListener('keydown',close);return function(){return window.removeEventListener('keydown',close);};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-inner-container\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setShow(\"\");},className:\"close\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-inner\",style:{backgroundColor:\"\".concat(entry.color)},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"small\",{children:entry.time}),/*#__PURE__*/_jsx(\"h4\",{children:entry.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"p\",{children:entry.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-icons\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:editHandler,children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return wannaRemove(entry.id);},children:\"\\u274C\"}),remove==entry.id?/*#__PURE__*/_jsxs(\"p\",{className:\"sure\",children:[\"delete? \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return removePost(entry.id);},className:\"yes\",children:\"y\"}),\" / \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setRemove(\"\");},className:\"no\",children:\"n\"})]}):null]}),entry.updated!=\"\"?/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"updated \",entry.updated]})}):null]})]})]})});}","map":{"version":3,"sources":["/Users/tim/DCI/Assignments/spa-final-project-blog/src/Components/ShowModal.jsx"],"names":["React","useContext","useEffect","useState","ShowModalContext","PostContext","ShowModal","entry","posts","setPosts","show","setShow","setEdit","remove","setRemove","wannaRemove","id","removePost","newPosts","filter","post","editHandler","close","e","key","window","addEventListener","removeEventListener","backgroundColor","color","time","title","content","updated"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport ShowModalContext from '../Context/ShowModalContext';\nimport PostContext from '../Context/PostContext';\n\nexport default function ShowModal({entry}) {\n  const {posts, setPosts} = useContext(PostContext);\n  const {show, setShow, setEdit} = useContext(ShowModalContext);\n\n  const [remove, setRemove] = useState(\"\");\n\n  function wannaRemove(id){\n    remove == id ? setRemove(\"\") : setRemove(id);\n  }\n\n  function removePost(id){\n    const newPosts = posts.filter((post)=>{\n      return post.id != id;\n    });\n    setShow(\"\");\n    setPosts(newPosts);\n  }\n\n  function editHandler(){\n    setEdit(show);\n    setShow(\"\");\n  }\n\n  useEffect(() => {\n    const close = (e) => e.key === 'Escape' ? setShow(\"\") : null;\n    window.addEventListener('keydown', close);\n    return () => window.removeEventListener('keydown', close);\n  },[])\n\n  return (\n    <div className=\"modal\">\n      <div className=\"modal-inner-container\">\n        <div onClick={()=>setShow(\"\")} className=\"close\">×</div>\n        <div className=\"modal-inner\" style={{backgroundColor: `${entry.color}`}}>\n          <div className=\"modal-header\">\n            <small>{entry.time}</small>\n            <h4>{entry.title}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <p>{entry.content}</p>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"modal-icons\">\n              <div onClick={editHandler}>✏️</div>\n              <div onClick={()=>wannaRemove(entry.id)}>❌</div>\n              {remove == entry.id ? <p className=\"sure\">delete? <span onClick={()=>removePost(entry.id)} className=\"yes\">y</span> / <span onClick={()=>setRemove(\"\")} className=\"no\">n</span></p> : null}\n            </div>\n            {entry.updated != \"\" ? <p><small>updated {entry.updated}</small></p> : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}