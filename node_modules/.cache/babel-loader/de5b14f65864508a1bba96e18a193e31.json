{"ast":null,"code":"import _slicedToArray from\"/Users/tim/DCI/Assignments/spa-final-project-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Link}from'react-router-dom';import PostContext from'../Context/PostContext';import ShowModalContext from'../Context/ShowModalContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Post(){var _useContext=useContext(PostContext),posts=_useContext.posts,setPosts=_useContext.setPosts;// const {edit, setEdit} = useContext(ShowModalContext);\nvar _useContext2=useContext(ShowModalContext),show=_useContext2.show,setShow=_useContext2.setShow,setEdit=_useContext2.setEdit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),remove=_useState2[0],setRemove=_useState2[1];function wannaRemove(id){if(remove==id){setRemove(\"\");}else{setRemove(id);}}function removePost(id){var newPosts=posts.filter(function(post){return post.id!=id;});setPosts(newPosts);}return posts.map(function(entry){return/*#__PURE__*/_jsx(\"div\",{className:\"Post-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Post\",style:{backgroundColor:entry.color},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setShow(entry);},className:\"post-header\",children:[/*#__PURE__*/_jsx(\"small\",{children:entry.time}),/*#__PURE__*/_jsx(\"h4\",{children:entry.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-body\",children:/*#__PURE__*/_jsx(\"p\",{children:entry.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"icons\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setEdit(entry);},children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return wannaRemove(entry.id);},children:\"\\u274C\"}),remove==entry.id?/*#__PURE__*/_jsxs(\"p\",{className:\"sure\",children:[\"delete? \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return removePost(entry.id);},className:\"yes\",children:\"y\"}),\" / \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setRemove(\"\");},className:\"no\",children:\"n\"})]}):null]}),entry.updated!=\"\"?/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"updated \",entry.updated]})}):null]})]})},entry.id);});}","map":{"version":3,"sources":["/Users/tim/DCI/Assignments/spa-final-project-blog/src/Components/Post.jsx"],"names":["React","useContext","useState","Link","PostContext","ShowModalContext","Post","posts","setPosts","show","setShow","setEdit","remove","setRemove","wannaRemove","id","removePost","newPosts","filter","post","map","entry","backgroundColor","color","time","title","content","updated"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,6BAA7B,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC7B,gBAA0BL,UAAU,CAACG,WAAD,CAApC,CAAOG,KAAP,aAAOA,KAAP,CAAcC,QAAd,aAAcA,QAAd,CAEA;AACA,iBAAiCP,UAAU,CAACI,gBAAD,CAA3C,CAAOI,IAAP,cAAOA,IAAP,CAAaC,OAAb,cAAaA,OAAb,CAAsBC,OAAtB,cAAsBA,OAAtB,CAEA,cAA4BT,QAAQ,CAAC,EAAD,CAApC,wCAAOU,MAAP,eAAeC,SAAf,eAEA,QAASC,CAAAA,WAAT,CAAqBC,EAArB,CAAwB,CACtB,GAAGH,MAAM,EAAIG,EAAb,CAAgB,CACdF,SAAS,CAAC,EAAD,CAAT,CACD,CAFD,IAEO,CACLA,SAAS,CAACE,EAAD,CAAT,CACD,CACF,CAED,QAASC,CAAAA,UAAT,CAAoBD,EAApB,CAAuB,CACrB,GAAME,CAAAA,QAAQ,CAAGV,KAAK,CAACW,MAAN,CAAa,SAACC,IAAD,CAAQ,CACpC,MAAOA,CAAAA,IAAI,CAACJ,EAAL,EAAWA,EAAlB,CACD,CAFgB,CAAjB,CAGAP,QAAQ,CAACS,QAAD,CAAR,CACD,CAED,MACEV,CAAAA,KAAK,CAACa,GAAN,CAAU,SAACC,KAAD,CAAS,CACjB,mBACE,YAAoB,SAAS,CAAC,gBAA9B,uBACE,aAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACC,eAAe,CAAED,KAAK,CAACE,KAAxB,CAA7B,wBACE,aAAK,OAAO,CAAE,yBAAIb,CAAAA,OAAO,CAACW,KAAD,CAAX,EAAd,CAAkC,SAAS,CAAC,aAA5C,wBACE,uBAAQA,KAAK,CAACG,IAAd,EADF,cAEE,oBAAKH,KAAK,CAACI,KAAX,EAFF,GADF,cAKE,YAAK,SAAS,CAAC,WAAf,uBACE,mBAAIJ,KAAK,CAACK,OAAV,EADF,EALF,cAQE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,OAAO,CAAE,yBAAIf,CAAAA,OAAO,CAACU,KAAD,CAAX,EAAd,0BADF,cAEE,YAAK,OAAO,CAAE,yBAAIP,CAAAA,WAAW,CAACO,KAAK,CAACN,EAAP,CAAf,EAAd,oBAFF,CAGGH,MAAM,EAAIS,KAAK,CAACN,EAAhB,cAAqB,WAAG,SAAS,CAAC,MAAb,mCAA4B,aAAM,OAAO,CAAE,yBAAIC,CAAAA,UAAU,CAACK,KAAK,CAACN,EAAP,CAAd,EAAf,CAA0C,SAAS,CAAC,KAApD,eAA5B,oBAAiG,aAAM,OAAO,CAAE,yBAAIF,CAAAA,SAAS,CAAC,EAAD,CAAb,EAAf,CAAmC,SAAS,CAAC,IAA7C,eAAjG,GAArB,CAAuL,IAH1L,GADF,CAMGQ,KAAK,CAACM,OAAN,EAAiB,EAAjB,cAAsB,gCAAG,oCAAgBN,KAAK,CAACM,OAAtB,GAAH,EAAtB,CAAsE,IANzE,GARF,GADF,EAAUN,KAAK,CAACN,EAAhB,CADF,CAqBH,CAtBC,CADF,CAyBD","sourcesContent":["import React, {useContext, useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport PostContext from '../Context/PostContext';\nimport ShowModalContext from '../Context/ShowModalContext';\n\nexport default function Post() {\n  const {posts, setPosts} = useContext(PostContext);\n\n  // const {edit, setEdit} = useContext(ShowModalContext);\n  const {show, setShow, setEdit} = useContext(ShowModalContext);\n\n  const [remove, setRemove] = useState(\"\");\n\n  function wannaRemove(id){\n    if(remove == id){\n      setRemove(\"\");\n    } else {\n      setRemove(id);\n    }\n  }\n\n  function removePost(id){\n    const newPosts = posts.filter((post)=>{\n      return post.id != id;\n    });\n    setPosts(newPosts);\n  }\n  \n  return(\n    posts.map((entry)=>{\n      return(\n        <div key={entry.id} className=\"Post-container\">\n          <div className=\"Post\" style={{backgroundColor: entry.color}}>\n            <div onClick={()=>setShow(entry)} className=\"post-header\">\n              <small>{entry.time}</small>\n              <h4>{entry.title}</h4>\n            </div>\n            <div className=\"post-body\">\n              <p>{entry.content}</p>\n            </div>\n            <div className=\"post-footer\">\n              <div className=\"icons\">\n                <div onClick={()=>setEdit(entry)}>✏️</div>\n                <div onClick={()=>wannaRemove(entry.id)}>❌</div>\n                {remove == entry.id ? <p className=\"sure\">delete? <span onClick={()=>removePost(entry.id)}  className=\"yes\">y</span> / <span onClick={()=>setRemove(\"\")}  className=\"no\">n</span></p> : null}\n              </div>\n              {entry.updated != \"\" ? <p><small>updated {entry.updated}</small></p> : null}\n            </div>\n          </div>\n        </div>\n      )\n  })\n  )\n}\n"]},"metadata":{},"sourceType":"module"}